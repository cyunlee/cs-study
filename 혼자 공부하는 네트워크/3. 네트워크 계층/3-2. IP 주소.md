# 3-2. IP 주소

네트워크에서는 IP 주소가 기본적으로, 우선적으로 사용된다. IP 주소는 `네트워크 주소 + 호스트 주소`로 이루어져있다.

## 네트워크 주소와 호스트 주소

### 네트워크 주소
> 네트워크를 표현하는 부분

### 호스트 주소
> 호스트를 표현하는 부분

<hr>

## 클래스풀 주소 체계
> **클래스**를 기반으로 IP 주소를 관리하는 주소 체계

클래스를 이용하면 필요한 호스트 IP 개수에 따라 네트워크의 크기를 가변적으로 조정할 수 있다.

- **클래스 A**
  - 네트워크 주소: 비트 0으로 시작, 1옥텟으로 구성
  - 호스트 주소: 3옥텟으로 구성
- **클래스 B**
  - 네트워크 주소: 비트 10으로 시작, 2옥텟으로 구성
  - 호스트 주소: 2옥텟으루 구성
- **클래스 C**
  - 네트워크 주소: 비트 110으로 시작, 3옥텟으로 구성
  - 호스트 주소: 1옥텟으로 구성
- **클래스 D**
  - 멀티캐스트를 위한 클래스 
- **클래스 E**
  - 특수한 목적을 위해 예약된 클래스

호스트 주소가 전부 0인 IP 주소 -> 네트워크 주소
호스트 주소가 전부 1인 IP 주소 -> 브로드캐스트 주소

<hr>

## 클래스리스 주소 체계
> **클래스 개념 없이** 클래스에 구애받지 않고 네트워크의 영역을 나누어서 호스트에게 IP 주소 공간을 할당하는 방식

### 서브넷 마스크
> 네트워크 주소는 1, 호스트 주소는 0으로 표기한 비트열

클래스리스 주소 체계에서는 IP 주소상에서 네트워크 주소와 호스트 주소를 구분 짓는 수단으로 서브넷 마스크를 활용한다.

### 서브넷팅
> IP 주소와 서브넷 마스크를 비트 AND 연산하는 것

연산의 결과를 통해 네트워크 주소를 알아낼 수 있다.

+ **CIDR 표기법** -> ex) 192.168.219.103/24 (IP 주소 / 서브넷 마스크상의 1의 개수)

<hr>

## 공인 IP 주소와 사설 IP 주소

### 공인 IP 주소
> 전 세계에서 고유한 IP 주소

네트워크 간의 통신, 인터넷을 이용할 때 사용한다.

### 사설 IP 주소
> 사설 네트워크에서 사용하기 위한 IP 주소

**사설 네트워크**란 외부 네트워크에 공개되지 않은 네트워크를 의미한다.
- IP 할당의 주체는 **라우터**
- 사설 IP 주소는 다른 네트워크의 사설 IP 주소와 중복 가능

#### NAT
> 네트워크 내부에서 사용되는 사설 IP 주소와 네트워크 외부에서 사용되는 공인 IP 주소를 변환하는 기술

대부분의 라우터는 NAT 기술을 내장한다.

<hr>

## 정적 IP 주소와 동적 IP 주소

### 정적 IP 주소
> 호스트에 수작업으로 IP 주소를 부여한 것 

### 동적 IP 주소
> 호스트에 DHCP 프로토콜(대표적)을 통해 자동으로 IP 주소를 부여한 것

#### 동적 할당의 과정 : 클라이언트와 DHCP 서버의 통신

- **DHCP Discover**
- **DHCP Offer**
- **DHCP Request**
- **DHCP ACK**
  - DHCP 서버로부터 할당 받은 IP 주소는 임대 기간이 정해져있고, 임대 갱신을 통해 기간을 연장할 수 있다. 

<hr>

## 더 알아보기: 예약 주소

### 127.0.0.1
> 루프백 주소, 로컬 호스트

### 0.0.0.0/8
> IP 주소를 할당받기 전 임시로 사용하는 주소

### 0.0.0.0/0
> 모든 임의의 주소, 어디로 패킷을 전달해야 할 지 모를 경우의 디폴트 라우트